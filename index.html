<!DOCTYPE html>
<html>
<head>
<script type="text/javascript">
			var lastIndex = 0;
			
			function randomImage() {
				var theImage = document.getElementById('myimage');
				var imgDir = 'images/';
				var imgstart = 29;
				var imgEnd = 58;
				var imgArray = []
				for (var i= imgStart; i<imgArray; i++) 
				{
					imgArray.push('${i}.jpg');
				}
				var imgIndex = 0;
				
				if(imgArray.length > 1) {
					while(imgIndex == lastIndex) {
						imgIndex = Math.floor(Math.random() * imgArray.length);
					}
					lastIndex = imgIndex;
				
					var imgPath = imgDir + imgArray[imgIndex];
					
					theImage.src = imgPath;
					theImage.alt = imgArray[imgIndex];
				}
				else {
					return false;
				}
			}
</script>
</head>

<body onload="randomImage()>
<p><a href="#" onclick="randomImage()"><img id="myimage" /></a>
</p>

<img id="myimage" alt="" />
</body>
</html>